func @c_function exit(value: int);
func @c_function write(fd: int, buf: *uint8, count: int);
func @c_function printf(fmt: *uint8, temporary_c_vararg);

func test_func() -> void {
    // @TODO verify that these things all produce expected results.
    var _int: int = 10;
    var intptr: *int;

    // var test_error = whatever;
    

    // intptr = *_int;

    // var __int2: int = << <<*<<*intptr;

    var n = *intptr;
    var n2 = <<intptr;
    var n3 = << *intptr;
    var n4 = << << *intptr;

    // @FixMe this works in C but not here
    var n5 = <<*<<intptr;

    // var n6 = **<< * <<*intptr;

    var n7: ***int;
    // THIS IS SUPPOSED TO FAIL
    // var n8 = *  << << n7;
}

func main (arg: int, arg2: int) -> void {
    var my_var: int = 10;
    var my_var2 = my_var;
    // my_var = 1;
    // my_var = my_var2;

   var my_string = "Hello, World!\n";
   write(1, "Hello, Sailor!\n".data, 15);
   write(1, my_string.data, 14);

   printf("Test %d\n".data, my_var);
	test_bool();
   exit(11);
}

func test_bool() {
	var v = true;
	var t = false;
	var a = false;

	var b = v;

	if t {
		printf("t is true\n".data);
	} else {
		printf("t is false\n".data);
	}

	if b printf("b is true\n".data);

	// this printf should not execute
	if a printf("a is true\n".data);

	var i = 0;

	while i != 5 {
		printf("while_test\n".data);
		i = i + 1;
	}
}
